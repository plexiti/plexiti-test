<!doctype html>
<html lang='en'>
<head>
  <script src='https://plexiti.github.io/plexiti-test/en/js/lang.js'></script>
  <link href='//fonts.googleapis.com/css?family=Open+Sans:400,300,400italic,600,600italic,700,700italic,300italic' rel='stylesheet' type='text/css'>
  <meta charset='utf-8'>
  
      
      <title>Decoupling Event Driven Hippies</title>
      
  
    <link href='https://plexiti.github.io/plexiti-test/en/blog/index.xml' rel='alternate' type='application/rss+xml' title='plexiti - (de)coding domain knowledge blog' />
  
    <link href='https://plexiti.github.io/plexiti-test/en/blog/index.xml' rel='home' type='application/rss+xml' title='plexiti - (de)coding domain knowledge blog' />
  
  <meta name='apple-mobile-web-app-capable' content='yes'>
  <meta name='viewport' content='width=device-width, initial-scale=1'>
  <link href='https://plexiti.github.io/plexiti-test/en/animate.css' rel='stylesheet' type='text/css'>
  <link rel='stylesheet' href='https://plexiti.github.io/plexiti-test/en/js/woothemes-FlexSlider-06b12f8/flexslider.css' type='text/css' media='screen'>
  <link rel='stylesheet' href='https://plexiti.github.io/plexiti-test/en/js/prettyPhoto_3.1.5/prettyPhoto.css' type='text/css' media='screen'>
  <link href='https://plexiti.github.io/plexiti-test/en/style.css' rel='stylesheet' type='text/css'>

  <link rel='stylesheet' href='https://plexiti.github.io/plexiti-test/en/fonts/lato/plexiti-lato.css' media='screen' />
  <link rel='stylesheet' href='https://plexiti.github.io/plexiti-test/en/fonts/font-awesome/css/font-awesome.min.css' media='screen'>
  <script src='//code.jquery.com/jquery-latest.min.js'></script>
  <script type='text/javascript' src='https://plexiti.github.io/plexiti-test/en/js/modernizr.custom.48287.js'></script>
  
  <link rel='shortcut icon' type='image/x-icon' href='https://plexiti.github.io/plexiti-test/en/favicon.ico' />
  <link rel='apple-touch-icon-precomposed' sizes='114x114' href='https://plexiti.github.io/plexiti-test/en/apple-touch-icon-114x114-precomposed.png'>
  <link rel='apple-touch-icon-precomposed' sizes='72x72' href='https://plexiti.github.io/plexiti-test/en/apple-touch-icon-72x72-precomposed.png'>
  <link rel='apple-touch-icon-precomposed' href='https://plexiti.github.io/plexiti-test/en/apple-touch-fa-57x57-precomposed.png'>

  <script type='text/javascript' src='https://plexiti.github.io/plexiti-test/en/js/moment/moment-with-locales.min.js'></script>
  <script type='text/javascript' src='https://plexiti.github.io/plexiti-test/en/js/bpmn-js/bpmn-viewer.min.js'></script>
  <script type='text/javascript' src='https://plexiti.github.io/plexiti-test/en/js/cmmn-js/cmmn-viewer.min.js'></script>
  <script type='text/javascript' src='https://plexiti.github.io/plexiti-test/en/js/dmn-js/dmn-viewer.min.js'></script>
  <script type='text/javascript' src='https://plexiti.github.io/plexiti-test/en/js/plexiti.js'></script>
  <script type='text/javascript' src='https://plexiti.github.io/plexiti-test/en/js/lang.js'></script>

  <link href='https://plexiti.github.io/plexiti-test/en/css/plexiti.css' rel='stylesheet' type='text/css'>
  <link href='https://plexiti.github.io/plexiti-test/en/js/dmn-js/css/dmn-js.css' rel='stylesheet' type='text/css'>
  <link href='https://plexiti.github.io/plexiti-test/en/js/rainbow/rainbow-github.css' rel="stylesheet" type="text/css">

</head>
<body data-spy='scroll' data-target='#TableOfContents' data-offset='50'>
<header>
  <div class='top-bg-color-bar'></div>
  <div class='container'>
    <div class='navbar navbar-default' role='navigation'>
      <div class='navbar-header'>
        <a class='navbar-brand' href='https://plexiti.github.io/plexiti-test/en/'>
          <img src='https://plexiti.github.io/plexiti-test/en/img/logo.png' style='width: 250px; height: 96px' title='plexiti'>
          <span class='logo_subtitle' style='font-size: 13pt;'>(de)coding domain knowledge</span>
        </a>
      </div>
      <div class='collapse navbar-collapse'>
        <ul class='nav pull-right navbar-nav'>
          
          
            <li><a href='https://plexiti.github.io/plexiti-test/en/blog/'>Blog</a></li>
          
            <li><a href='https://plexiti.github.io/plexiti-test/en/about/'>About</a></li>
          
        </ul>
      </div>
    </div>
    <div id="social_media_wrapper">
      
        
        
          
          <a href='.' title='This page is available in english.'><i class="fa">en</i></a>
        
      
    </div>
  </div>
</header>

<div class='main' id='post'>
     <section class='hgroup'>
          <div class='container'>
               <h1>Decoupling Event Driven Hippies</h1>
               <h2><span style='float:right'><script>document.write(moment('2017-03-21').locale('en').format('LL'))</script></span></h2>
          </div>
     </section>
     <section>
          <div class='container'>
               <div class='row'>
                    <div id='leftcol' class='col-sm-12 col-md-8' role='main'>
                         <article class='post'>
                              <div class='post_content'>
                                   

<p>In my mind, there is a further disadvantage to <strong>purely</strong> &ldquo;event driven&rdquo; choreography approaches - and it is again related to the question of &ldquo;decoupling&rdquo; for autonomous delivery of changing requirements and fast deployment of new features. When we speak about &ldquo;nicely decoupled event driven systems&rdquo; we sometimes forget: some coupling is always needed. In case of event driven approaches, we of course couple the subscriber to the event: the subscriber needs to know to which events it reacts.</p>

<h1 id="coupling-subscribers-to-events-can-be-bad-too">Coupling Subscribers to Events can be bad, too</h1>

<p>However, from point of view of highest &ldquo;Microservices Autonomy&rdquo; as possible, this can be a good choice - or a not so good choice. For example, the aforementioned NotificationService (Team) might prefer to decide itself to which events it is listening when it comes to its feature to offer customers configurable notifications for lots of potentially interesting events. On the other hand, there also might be the need for other teams to decide themselves, that a notification must be sent to the customer in certain situations, regardless of what the NotificationService decides to subscribe to. In such a case it might be better to decouple the event receiver and couple instead the sender to a command the NotificationService offers to request a notification.</p>

<h1 id="3-an-adaptive-collaboration-style"><strong>(3) An Adaptive Collaboration Style</strong></h1>

<p>In other words, in event driven architectures we should always ask ourselves: <strong>who</strong> should better transform an event into a command. Is it the event subscriber who is &ldquo;interested&rdquo; to do something with an event, then it better transforms the event to a command internally. But if it is actually the event publisher - or even somebody else - who is interested in a specific followup action, the transformation of an event to a command should probably better happen on that interested side. By providing the possibility to invoke commands remotely, the responsibility to make use of a command and couple two systems is shifted to the client side for a good reason: an even higher degree of decoupling as it would be the case in a <strong>purely</strong> &ldquo;event driven&rdquo; choreography.</p>

<p>When we look for example at the &ldquo;Payment Service&rdquo; then we let it subscribe to the &ldquo;New Order Created&rdquo; event in the example above. Is this a wise decision in the light of what just has been discussed? Probably not. The momment the &ldquo;Payment Service&rdquo; (team) couples this event to the internal command to start payment collection, it makes the decision when exactly in the overall order fullfillment business process the collection of money should be started. What happens if the business decides to &ldquo;slightly&rdquo; change the policy: it demands now that the inventory must be reserved before we start to collect payment, but just for orders greater than 500 Euros. Is that also a concern of the &ldquo;Payment Service&rdquo;? The payment team should actually not even know of orders, as payments probably happens in very different other contexts, too. Instead of subscribing to many different events, it better offers a command which can be invoked by others, in a messaging based architecture this could e.g. be implemented as a command message asynchronously delivered via a message queue.</p>

<p>But now a new question arises: which Microservice is actually now invoking that command? The inventory service? No. It&rsquo;s not a concern of the inventory either to decide about the start for payment collection. We abolished the conductor service in our choreography example above. Are we now back to orchestration? Not necessarily, but probably we should have an &ldquo;Order Service&rdquo;.</p>

                              </div>
                         </article>
                         
                    </div>
                    <div class='col-md-4 hidden-sm hidden-xs'>
                         <div class='bs-docs-sidebar hidden-print affix-top' role='complementary' data-spy='affix' data-offset-top='318' data-offset-bottom='405'>
                              <nav id="TableOfContents">
<ul>
<li><a href="#coupling-subscribers-to-events-can-be-bad-too">Coupling Subscribers to Events can be bad, too</a></li>
<li><a href="#3-an-adaptive-collaboration-style"><strong>(3) An Adaptive Collaboration Style</strong></a></li>
</ul>
</nav>
                         </div>
                    </div>
                    <script type='text/javascript'>
                         if($("#TableOfContents").length === 0) {
                              $('.bs-docs-sidebar').each(function(idx, value) {
                                   $(value).append("<nav id='TableOfContents'><ul></ul></nav>");
                              });
                         }
                         $('#TableOfContents ul').each(function() {
                              this.className = "nav";
                         });
                         
                         var numbers = Math.ceil( 584  /  184 );
                         $('#TableOfContents ul').prepend("<li><a href='#post'><i class='fa fa-hand-o-right' aria-hidden='true'></i> Read this post in about <span class='read-the-discussion en'><b>" + numbers + "<i class='pl'></i></b></span>&nbsp;...</a></li>");
                         
                    </script>
                    <script type='text/javascript'>
                         $('#TableOfContents a').click(function() {
                              var href = $.attr(this, 'href');
                              href = href.replace(/:/g, '\\:');
                              $('html, body').animate({
                                   scrollTop: jQuery(href).offset().top
                              }, 500, function () {
                                   window.location.hash = href;
                              });
                              return false;
                         });
                    </script>
               </div>
          </div>
     </section>
     <footer>
  <section class='twitter_feed_wrapper'>
    <div class='container'>
      <div class='row'>
        <div class='twitter_feed_icon col-sm-1 col-md-1'><a href='https://twitter.com/MartinSchimak/'><i class='fa fa-twitter'></i></a></div>
        <div class='col-sm-11 col-md-11'>
          <blockquote>
            <p>I&rsquo;m into and onto <a href="http://agilemanifesto.org">Agile</a>, <a href="http://dddcommunity.org/learning-ddd/what_is_ddd/">DDD</a>, <a href="http://martinfowler.com/eaaDev/EventNarrative.html">EDA</a>, <a href="https://camunda.org">BPM</a> and <a href="http://www.martinfowler.com/articles/microservices.html">Microservices</a>! When I&rsquo;m not (de-)coding domain knowledge, I&rsquo;m probably organizing <a href="https://meetup.com/microservices-vienna">Microservices Vienna</a> or <a href="https://meetup.com/camunda-vienna">Camunda Vienna</a>. I&rsquo;m co-editor of <a href="http://www.objektspektrum.de">OBJEKTspektrum</a>.</p>
            <cite><a href='https://twitter.com/MartinSchimak/'>@MartinSchimak</a></cite>
          </blockquote>
        </div>
      </div>
    </div>
  </section>
  <section class='copyright'>
    <div class='container'>
        <div class='row'>
            <div class='col-sm-6 col-md-6'></div>
            <div class='text-right col-sm-6 col-md-6'> Copyright &copy; <script>document.write(moment().format('YYYY'))</script> <a href='https://plexiti.github.io/plexiti-test/en/about'>plexiti GmbH</a> - All rights reserved.</div>
        </div>
    </div>
</section>

</footer>

</div>
<script>window.jQuery || document.write('<script src=\'https:\/\/plexiti.github.io\/plexiti-test\/en\/js\/jquery-1.9.0.min.js\'><\/script>')</script>
<script src='https://plexiti.github.io/plexiti-test/en/twitter-bootstrap/js/bootstrap.min.js' type='text/javascript'></script>
<script type='text/javascript' src='https://plexiti.github.io/plexiti-test/en/js/modernizr.custom.48287.js'></script>
<script src='https://plexiti.github.io/plexiti-test/en/js/woothemes-FlexSlider-06b12f8/jquery.flexslider-min.js'></script>
<script src='https://plexiti.github.io/plexiti-test/en/js/prettyPhoto_3.1.5/jquery.prettyPhoto.js' type='text/javascript' charset='utf-8'></script>
<script src='https://plexiti.github.io/plexiti-test/en/js/isotope/jquery.isotope.min.js' type='text/javascript'></script>
<script type='text/javascript' src='https://plexiti.github.io/plexiti-test/en/js/jquery.ui.totop.js'></script>
<script type='text/javascript' src='https://plexiti.github.io/plexiti-test/en/js/easing.js'></script>
<script type='text/javascript' src='https://plexiti.github.io/plexiti-test/en/js/wow.min.js'></script>
<script type='text/javascript' src='https://plexiti.github.io/plexiti-test/en/js/snap.svg-min.js'></script>
<script type='text/javascript' src='https://plexiti.github.io/plexiti-test/en/js/restart_theme.js'></script>
<script type='text/javascript' src='https://plexiti.github.io/plexiti-test/en/js/collapser.js'></script>
<script id='dsq-count-scr' src='//plexiti.disqus.com/count.js' async></script>

<script>
    setCookie('lang', 'en', 365)
</script>
</body>
</html>

