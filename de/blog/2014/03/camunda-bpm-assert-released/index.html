<!doctype html>
<html lang='de'>
<head>
  <link href='//fonts.googleapis.com/css?family=Open+Sans:400,300,400italic,600,600italic,700,700italic,300italic' rel='stylesheet' type='text/css'>
  <meta charset='utf-8'>
  
  <title>Camunda BPM Assert 1.0 verfügbar!</title>
  
    <link href='https://plexiti.github.io/plexiti-test/de/blog/index.xml' rel='alternate' type='application/rss+xml' title='plexiti - der business programmer blog' />
  
    <link href='https://plexiti.github.io/plexiti-test/de/blog/index.xml' rel='home' type='application/rss+xml' title='plexiti - der business programmer blog' />
  
  <meta name='apple-mobile-web-app-capable' content='yes'>
  <meta name='viewport' content='width=device-width, initial-scale=1'>
  <link href='https://plexiti.github.io/plexiti-test/de/animate.css' rel='stylesheet' type='text/css'>
  <link rel='stylesheet' href='https://plexiti.github.io/plexiti-test/de/js/woothemes-FlexSlider-06b12f8/flexslider.css' type='text/css' media='screen'>
  <link rel='stylesheet' href='https://plexiti.github.io/plexiti-test/de/js/prettyPhoto_3.1.5/prettyPhoto.css' type='text/css' media='screen'>
  <link href='https://plexiti.github.io/plexiti-test/de/style.css' rel='stylesheet' type='text/css'>

  <link rel='stylesheet' href='https://plexiti.github.io/plexiti-test/de/fonts/bariol/plexiti-bariol.css' media='screen' />
  <link rel='stylesheet' href='https://plexiti.github.io/plexiti-test/de/fonts/font-awesome/css/font-awesome.min.css' media='screen'>
  <script src='//code.jquery.com/jquery-latest.min.js'></script>
  <script type='text/javascript' src='https://plexiti.github.io/plexiti-test/de/js/modernizr.custom.48287.js'></script>
  
  <link rel='shortcut icon' type='image/x-icon' href='https://plexiti.github.io/plexiti-test/de/favicon.ico' />
  <link rel='apple-touch-icon-precomposed' sizes='114x114' href='https://plexiti.github.io/plexiti-test/de/apple-touch-icon-114x114-precomposed.png'>
  <link rel='apple-touch-icon-precomposed' sizes='72x72' href='https://plexiti.github.io/plexiti-test/de/apple-touch-icon-72x72-precomposed.png'>
  <link rel='apple-touch-icon-precomposed' href='https://plexiti.github.io/plexiti-test/de/apple-touch-fa-57x57-precomposed.png'>

  <script type='text/javascript' src='https://plexiti.github.io/plexiti-test/de/js/moment/moment-with-locales.min.js'></script>
  <script type='text/javascript' src='https://plexiti.github.io/plexiti-test/de/js/bpmn-js/bpmn-viewer.min.js'></script>
  <script type='text/javascript' src='https://plexiti.github.io/plexiti-test/de/js/cmmn-js/cmmn-viewer.min.js'></script>
  <script type='text/javascript' src='https://plexiti.github.io/plexiti-test/de/js/dmn-js/dmn-viewer.min.js'></script>
  <script type='text/javascript' src='https://plexiti.github.io/plexiti-test/de/js/plexiti.js'></script>

  <link href='https://plexiti.github.io/plexiti-test/de/css/plexiti.css' rel='stylesheet' type='text/css'>
  <link href='https://plexiti.github.io/plexiti-test/de/js/dmn-js/css/dmn-js.css' rel='stylesheet' type='text/css'>
  <link href='https://plexiti.github.io/plexiti-test/de/js/rainbow/rainbow-github.css' rel="stylesheet" type="text/css">

</head>
<body data-spy='scroll' data-target='#TableOfContents' data-offset='50'>
<header>
  <div class='top-bg-color-bar'></div>
  <div class='container'>
    <div class='navbar navbar-default' role='navigation'>
      <div class='navbar-header'>
        <a class='navbar-brand' href='https://plexiti.github.io/plexiti-test/de/'>
          <img src='https://plexiti.github.io/plexiti-test/de/img/logo.png' style='width: 250px; height: 96px' title='plexiti'>
          <span class='logo_subtitle' style='font-size: 13pt;'>der business programmer blog</span>
        </a>
      </div>
      <div class='collapse navbar-collapse'>
        <ul class='nav pull-right navbar-nav'>
          
          
            <li><a href='https://plexiti.github.io/plexiti-test/de/blog/'>Blog</a></li>
          
            <li><a href='https://plexiti.github.io/plexiti-test/de/about/'>Impressum</a></li>
          
        </ul>
      </div>
    </div>
  </div>
</header>

<div class='main' id='post'>
     <section class='hgroup'>
          <div class='container'>
               <h1>Camunda BPM Assert 1.0 verfügbar!</h1>
               <h2>Seit einiger Zeit schon experimentieren wir mit Assertions für Camunda BPM - rechtzeitig zum 1. Geburtstag ist nun eine stabile Version verfügbar.<span style='float:right'><script>document.write(moment('2014-03-03').locale('de').format('LL'))</script></span></h2>
          </div>
     </section>
     <section>
          <div class='container'>
               <div class='row'>
                    <div id='leftcol' class='col-sm-12 col-md-8' role='main'>
                         <article class='post'>
                              <div class='post_content'>
                                   

<p>Die kleine Community Extension &ldquo;camunda-bpm-assert&rdquo; möchte es ein grosses Stück einfacher machen Tests für BPMN Prozessdefinitionen zu schreiben und diese gegen <a href="http://camunda.org">camunda BPM</a> auszuführen. Dazu wird - basierend auf Joel Costigliola&rsquo;s <a href="http://joel-costigliola.github.io/assertj/">AssertJ</a> - ein Set an Process Engine Assertions zur Verfügung gestellt. Diese können sowohl mit JUnit, aber auch in völlig anderen Testumgebungen eingesetzt werden. Außerdem unterstützt eine Reihe an kleinen Helper-Methoden bei der Navigation durch den zu testenden Prozesspfad. <strong>Das Motto: besser lesbarer Code - weniger Spaghetti Tests!</strong></p>

<p><img src="../img/camunda-bpm-assert-released.png" alt="Less Spaghetti Tests" /></p>

<p>Urspünglich eine gemeinsam von <a href="http://rafael.cordones.me">Rafael Cordones</a> und mir in die Welt gesetzte und von Jan Galinski und Simon Zambrovski (beide <a href="http://www.holisticon.de">Holisticon</a>) tatkräftig unterstützte Idee, konnte ich mir nun die nötige Zeit nehmen, den experimentellen Code auf den Kern zu reduzieren und vor allem zu testen: &ldquo;Never forget to test the test code!&rdquo; :-) Das Ergebnis ist nun zugänglich über camundas maven repo als</p>

<h1 id="camunda-bpm-assert-1-0">camunda-bpm-assert 1.0</h1>

<p>Man benötigt lediglich einen statischen Import…</p>

<pre><code>import static org.camunda.bpm.engine.test.assertions.ProcessEngineTests.*;
</code></pre>

<p>… und kann schon damit loslegen neue Tests zu schreiben oder bestehende Tests zu ändern. Es gibt aber keinen Zwang, einer bestimmten Test-&ldquo;Philosophie&rdquo; zu folgen oder bestehende Tests in einem Schritt zu &ldquo;migrieren&rdquo;. &ldquo;Mix and match it&rdquo; as you like, zB um eine Map an Prozessvariablen zu übergeben:</p>

<pre><code>ProcessInstance pi = runtimeService().startProcessInstanceByKey(
  &quot;camunda-testing-job-announcement&quot;,
  withVariables(&quot;jobAnnouncementId&quot;, jobAnnouncement.getId())
);
</code></pre>

<p><img src="../img/process-instance-under-test.png" alt="Zu testende Prozess Instanz" /></p>

<p>Möchte man zB sicherstellen, dass diese hier gezeigte Prozessinstanz</p>

<ul>
<li>wirklich gestartet wurde…</li>
<li>… nun beim User Task &ldquo;edit&rdquo; wartet…</li>
<li>… und einer bestimmten Gruppe, aber noch keiner konkreten Person zugeordnet wurde…</li>
</ul>

<p>so schreibt man</p>

<pre><code>assertThat(pi).isStarted()
  .task(&quot;edit&quot;).hasCandidateGroup(&quot;hr-staff&quot;).isNotAssigned();
</code></pre>

<p>Möchte man diesen Task nun zuweisen und abschliessen, so kann man dafür einige der Helper Methoden nutzen:</p>

<pre><code>claim(task(&quot;edit&quot;), &quot;mary&quot;);
complete(task(&quot;edit&quot;), withVariables(&quot;finished&quot;, true, &quot;editor&quot;, &quot;mary&quot;));
</code></pre>

<p>Für diejenigen, die sich hier am Kopf kratzen sollten: die Library merkt sich dazu die letzte Prozess Instanz, auf der in diesem konkreten Test eine Assertion durchgeführt wurde. Es ist aber auch möglich, komplexere Tests mit mehreren &ldquo;kollaborierenden&rdquo; Prozessinstanzen durchzuführen und die jeweils benötigte Instanz den Helper Methoden explizit mitzugeben:</p>

<pre><code>claim(task(&quot;edit&quot;, pi), &quot;mary&quot;);
</code></pre>

<h1 id="fork-me-on-github">Fork me on GitHub!</h1>

<p>Ein kompletter <strong><a href="https://github.com/camunda/camunda-bpm-assert/blob/master/camunda-bpm-assert/README.md">User Guide</a></strong> mit allen derzeit zur Verfügung stehenden Assertions und Helper Methoden ist online abrufbar. Worauf also warten?-) <strong><a href="https://github.com/camunda/camunda-bpm-assert#getting-started">Get started</a></strong> and… enjoy your upgraded pasta!</p>

                              </div>
                         </article>
                         
                         <div id='disqus'></div>
                         <div id='disqus_thread'></div>
                         <script>
                              var disqus_config = function () {
                                   this.page.url = 'http:\/\/plexiti.com\/de\/blog\/2014\/03\/camunda-bpm-assert-released\/';
                                   this.page.identifier = '\/de\/blog\/2014\/03\/camunda-bpm-assert-released\/';
                                   this.page.title = 'Camunda BPM Assert 1.0 verfügbar!';
                                   this.language = "de";
                              };
                              (function() {
                                   var d = document, s = d.createElement('script');
                                   s.src = '//plexiti.disqus.com/embed.js';
                                   s.setAttribute('data-timestamp', +new Date());
                                   (d.head || d.body).appendChild(s);
                              })();
                         </script>
                         
                    </div>
                    <div class='col-md-4 hidden-sm hidden-xs'>
                         <div class='bs-docs-sidebar hidden-print affix-top' role='complementary' data-spy='affix' data-offset-top='318' data-offset-bottom='405'>
                              <nav id="TableOfContents">
<ul>
<li><a href="#camunda-bpm-assert-1-0">camunda-bpm-assert 1.0</a></li>
<li><a href="#fork-me-on-github">Fork me on GitHub!</a></li>
</ul>
</nav>
                         </div>
                    </div>
                    <script type='text/javascript'>
                         if($("#TableOfContents").length === 0) {
                              $('.bs-docs-sidebar').each(function(idx, value) {
                                   $(value).append("<nav id='TableOfContents'><ul></ul></nav>");
                              });
                         }
                         $('#TableOfContents ul').each(function() {
                              this.className = "nav";
                         });
                         
                         var numbers = Math.ceil( 353  /  184 );
                         $('#TableOfContents ul').prepend("<li><a href='#post'><i class='fa fa-hand-o-right' aria-hidden='true'></i> Lies\x27 diesen Beitrag in ca. <span class='read-the-discussion de'><b>" + numbers + "<i class='pl'></i></b></span>&nbsp;...</a></li>");
                         
                         $('#TableOfContents ul').append("<li class='disqus_link'><a href='#disqus'><i class='fa fa-comments'></i> ... und diskutier\x27 mit! <span class='disqus-comment-count de' data-disqus-identifier='/de\/blog\/2014\/03\/camunda-bpm-assert-released\/'></span></a></li>");
                         
                    </script>
                    <script type='text/javascript'>
                         $('#TableOfContents a').click(function() {
                              var href = $.attr(this, 'href');
                              href = href.replace(/:/g, '\\:');
                              $('html, body').animate({
                                   scrollTop: jQuery(href).offset().top
                              }, 500, function () {
                                   window.location.hash = href;
                              });
                              return false;
                         });
                    </script>
               </div>
          </div>
     </section>
     <footer>
  <section class='twitter_feed_wrapper'>
    <div class='container'>
      <div class='row'>
        <div class='twitter_feed_icon col-sm-1 col-md-1'><a href='https://twitter.com/MartinSchimak/'><i class='fa fa-twitter'></i></a></div>
        <div class='col-sm-11 col-md-11'>
          <blockquote>
            <p>Als „Business Programmer“ analysiere ich Anforderungen, erstelle Modelle, entwerfe Datenstrukturen, programmiere fachliche Algorithmen, arbeite mit API&rsquo;s und kombiniere Apps zu neuen Lösungen. Das Wichtigste ist aber Fachexperten zu verstehen, auf das Wesentliche zu reduzieren und zu ausführbarer, demonstrierbarer Software zu kommen. Hinter all dieser Arbeit stehen menschliche Motivationen und Ziele. Umso besser man diese versteht, umso erfolgreicher wird man in der „Kunst“ des <strong>Business Programmers</strong>.</p>
            <cite><a href='https://twitter.com/MartinSchimak/'>@MartinSchimak</a></cite>
          </blockquote>
        </div>
      </div>
    </div>
  </section>
  <section class='copyright'>
    <div class='container'>
        <div class='row'>
            <div class='col-sm-6 col-md-6'></div>
            <div class='text-right col-sm-6 col-md-6'> Copyright &copy; <script>document.write(moment().format('YYYY'))</script> <a href='https://plexiti.github.io/plexiti-test/de/about'>plexiti GmbH</a> - All rights reserved.</div>
        </div>
    </div>
</section>

</footer>

</div>
<script>window.jQuery || document.write('<script src=\'https:\/\/plexiti.github.io\/plexiti-test\/de\/js\/jquery-1.9.0.min.js\'><\/script>')</script>
<script src='https://plexiti.github.io/plexiti-test/de/twitter-bootstrap/js/bootstrap.min.js' type='text/javascript'></script>
<script type='text/javascript' src='https://plexiti.github.io/plexiti-test/de/js/modernizr.custom.48287.js'></script>
<script src='https://plexiti.github.io/plexiti-test/de/js/woothemes-FlexSlider-06b12f8/jquery.flexslider-min.js'></script>
<script src='https://plexiti.github.io/plexiti-test/de/js/prettyPhoto_3.1.5/jquery.prettyPhoto.js' type='text/javascript' charset='utf-8'></script>
<script src='https://plexiti.github.io/plexiti-test/de/js/isotope/jquery.isotope.min.js' type='text/javascript'></script>
<script type='text/javascript' src='https://plexiti.github.io/plexiti-test/de/js/jquery.ui.totop.js'></script>
<script type='text/javascript' src='https://plexiti.github.io/plexiti-test/de/js/easing.js'></script>
<script type='text/javascript' src='https://plexiti.github.io/plexiti-test/de/js/wow.min.js'></script>
<script type='text/javascript' src='https://plexiti.github.io/plexiti-test/de/js/snap.svg-min.js'></script>
<script type='text/javascript' src='https://plexiti.github.io/plexiti-test/de/js/restart_theme.js'></script>
<script type='text/javascript' src='https://plexiti.github.io/plexiti-test/de/js/collapser.js'></script>
<script id='dsq-count-scr' src='//plexiti.disqus.com/count.js' async></script>

</body>
</html>

